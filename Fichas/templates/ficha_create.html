{% extends 'base.html' %}
{% load widget_tweaks %}
{% block title %}
    <title>Crear Ficha</title>
{% endblock %}

{% block content %}
    <div class="grid grid-cols-12 min-h-screen font-primary">
        <div id="sidebar"
             class="sticky top-0 contents col-start-1 col-end-3 my-1 flex-1 flex-col h-screen min-w-fit z-30">
            {% include 'components/sidebar.html' %}
        </div>

        <div id='content'
             class="col-start-2 col-end-12 p-6 w-full min-h-screen flex">

            <form class="w-full h-full grid grid-flow-col grid-cols-12 gap-y-2"
                  action="{% url 'ficha-create' assignment_id %}"
                  method="post"
                  enctype="multipart/form-data">

                {% csrf_token %}
                <!-- Titulo e Imagen Principal -->
                <div id="titleAndImage" class="col-start-1 col-span-6 flex-1 min-w-[200px]">

                    <!-- Titulo -->
                    <label for="title" class="flex text-sm font-medium leading-6 text-gray-900">Titulo</label>
                    <div class="mt-0.5 w-full h-auto flex cursor-text">
                        <div class="px-2 font-medium bg-zinc-100 w-full flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md cursor-text min-w-[200px]">
                            {% render_field form.title type="text" name="title" id="title" class="flex w-full px-2 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm min-w-[200px]" placeholder="Titulo de la Obra" %}
                        </div>
                    </div>


                    <!-- Imagen Principal -->
                    <div class="flex-1 w-52 h-fit">
                        <label for="cover-photo" class="block text-sm font-medium leading-6 text-gray-900">Imagen
                            Principal</label>
                        <div class="flex bg-zinc-100 bg-opacity-30 justify-center rounded-lg border border-dashed border-gray-900/25 px-2 py-2">
                            <div class="text-center justify-center">
                                <svg class="flex mx-auto h-12 w-12 text-gray-300" viewBox="0 0 24 24"
                                     fill="currentColor"
                                     aria-hidden="true">
                                    <path fill-rule="evenodd"
                                          d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                <div class="mt-1 flex flex-col text-sm leading-6 text-gray-600">
                                    <label for="file-upload"
                                           class=" flex cursor-pointer rounded-md font-semibold text-zinc-100 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500">
                                        <span class="flex px-4 mx-auto text-zinc-100 bg-baublue self-center justify-self-center w-fit rounded-full">Sube una Imagen</span>
                                        {% render_field form.main_image class='sr-only' id="file-upload" name="file-upload" %}
                                    </label>
                                </div>
                                <p class="text-xs leading-5 text-gray-600">PNG, JPG, GIF up to 10MB</p>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Content Text Inputs -->
                <div class="col-span-full flex-1 grid auto-rows-min h-fit">

                    <!-- Description -->
                    <div class="flex-1 h-fit">
                        <label for="description"
                               class="text-sm font-medium leading-6 text-gray-900">Descripción</label>
                        {% render_field form.description id="description" type="text-input" class='w-full h-full rounded-md ring-inset' %}
                    </div>
                    <!-- Analisis Operacional -->
                    <div class="flex-1 h-fit">
                        <label for="analysis"
                               class="flex-1 text-sm font-medium leading-6 text-gray-900">Analisis</label>
                        {% render_field form.analysis id="analysis" type="text-input" class='w-full h-full rounded-md ring-inset' %}
                    </div>
                    <!-- Analisis Referencial -->
                    <div class="flex-1 h-fit">
                        <label for="referencial"
                               class="flex-1 text-sm font-medium leading-6 text-gray-900">Analisis Referencial</label>
                        {% render_field form.references id="referencial" type="text-input" class='w-full h-full rounded-md ring-inset' %}
                    </div>
                    <!-- Palabras Claves / Tags -->
                    <div class="flex-1 h-fit">
                        <label for="keywords"
                               class="flex-1 text-sm font-medium leading-6 text-gray-900">Palabras Clave</label>
                        {% render_field form.keywords id="keywords" type="text-input" class='w-full h-full rounded-md ring-inset' %}
                    </div>
                    <!-- Información Adicional -->
                    <div class="flex-1 h-fit">
                        <label for="misc"
                               class="flex-1 text-sm font-medium leading-6 text-gray-900">Informacion Adicional</label>
                        {% render_field form.misc id="misc" type="text-input" class='w-full h-full rounded-md ring-inset' %}
                    </div>
                </div>
                <!-- Botones -->
                <div class="h-fit flex-1 mx-0 px-0 w-fit gap-x-1 mt-6 col-start-9 col-span-3  col-end-13">
                    {% include 'components/button.html' with bg_button='bg-baublue' extra_classes="hover:bg-blue-600" name='publish' button_type="submit" button_text="Publicar" %}
                    {% include 'components/button.html' with bg_button='bg-bauyellow' extra_classes="hover:bg-amber-600" name='save_draft' button_type="submit" button_text="Guardar como Borrador" %}
                    {% include 'components/button.html' with bg_button='bg-gray-600' extra_classes="hover:bg-gray-800" name='cancel' button_type="submit" button_text="Cancelar" %}
                </div>
            </form>
        </div>
    </div>
    </div>
{% endblock %}

{#{% block footer %}#}
{#    {% include 'components/footer.html' %}#}
{#{% endblock %}#}
