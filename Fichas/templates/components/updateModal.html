<!-- This modal allow the teacher user to either update or delete the assignment -->
<!-- The modal is triggered by the edit button in the assignment card -->
{% load widget_tweaks %}
<div @click.outside="updateModal = false">
    <form method="post" hx-post="{% url 'Fichas:assignment-update' %}"
          hx-target="#assignment" hx-swap='none'
          x-on:submit="updateModal = false"
          class="container rounded-xl mx-auto flex flex-col justify-items-center bg-baublue text-zinc-50 accent-baublack p-10">
        {% csrf_token %}
        {% for field in form %}
            <div class="flex flex-col self-start">
                {{ field.label_tag }}
                {{ field | add_class:"text-baublack" }}
            </div>
        {% endfor %}
        <!-- The update button is a hx-post request that will update the assignment -->
        <button type="submit" hx-post="{% url 'Fichas:assignment-update' assignment.id %}"
                class="mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Update
        </button>
        <!-- The delete button is a hx-delete request that will delete the assignment -->
        <button type="submit" hx-delete="{% url 'Fichas:assignment-delete' assignment.id %}"
                class="mt-2 bg-baured hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Delete
        </button>
    </form>
    {% if form.errors %}
        {% for field, errors in form.errors.items %}
            {% for error in errors %}
                <div>{{ error }}</div>
            {% endfor %}
        {% endfor %}
    {% endif %}
</div>
