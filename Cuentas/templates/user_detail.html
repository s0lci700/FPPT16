{% extends 'base.html' %}
{% load thumbnail %}

{% block title %}<title>{{ user.email }}</title>{% endblock %}

{% block content %}
     <div id="nav-sidebar" class="grid grid-cols-12 grid-rows-6 h-full font-primary">
        <div class="container row-span-full col-start-1 col-end-2 border-baublack border-x-4 border-y-4 my-1">
            {% include 'components/sidebar.html' %}
        </div>
        <div id="content" class="col-start-2 col-end-13 row-start-1 row-end-7 my-1 mx-2 p-4">
        <div id="container-grid" class="grid grid-rows-6 grid-cols-12 w-full h-full">
             <div id="pfp" class="col-start-1 col-end-4 row-start-1 row-span-2">
                 {% thumbnail user.avatar "300x300" crop="center" as im %}
                    <img src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}" alt="{{ user.first_name }} avatar">
                 {% endthumbnail %}
             </div>
                <div id="data" class="col-start-4 col-span-4 row-start-1 row-span-2 mt-3 -ml-8">
                 <p class="font-medium text-3xl">{{ user.first_name }} {{ user.last_name }}</p>
                 <p class="text-muted">{{ user.email }}</p>
                 <p>{{ object.get_role_display }}</p>
                 {% if user.studentprofile %}
                     <p>{{ user.studentprofile.get_year_display }}</p>
                 {% endif %}
                </div>
                <div id="fichas" class="mt-6 row-start-3 row-end-7 col-start-1 col-end-13 border-baublack border-t-4">
                        <p>{{ role }} // {{ year }} // {{ user_fichas }}</p>

                            {% for ficha in user_fichas %}
                            {% thumbnail ficha.main_image "300x300" crop="center" as im %}
                            <img src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}" alt="ficha main image">
                            {% endthumbnail %}
                            <h3>{{ ficha.title }}</h3>
                            <p>{{ ficha.description }}</p>
                            <!-- other fields ... -->
                            {% endfor %}
                </div>
            </div>
        </div>
     </div>
{% endblock %}

{% block footer %}
    {% include 'components/footer.html' %}
{% endblock %}